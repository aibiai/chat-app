<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>聊天页背景 - 前端管理</title>
    <link rel="stylesheet" href="/admin/static/styles.css" />
  </head>
  <body class="admin-layout">
    <aside class="admin-sidebar">
  <div class="sidebar-top">
    <div class="sidebar-logo">
      <span class="logo-dot"></span>
      <strong>控制台</strong>
    </div>
    <div class="sidebar-profile">
      <div class="sidebar-avatar" id="sidebar-avatar">A</div>
      <div>
        <p id="admin-name" class="sidebar-name">管理员</p>
        <span class="sidebar-status">在线</span>
      </div>
    </div>
  </div>
  <nav class="admin-nav">
    <a class="nav-item" href="/admin/dashboard">
      <span>控制台</span>
      <small class="nav-tag hot">HOT</small>
    </a>
    <details class="nav-group">
      <summary class="nav-item">
        <span>常规管理</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/profile">个人资料</a>
        <a class="nav-sub-item" href="#">栏目配置</a>
        <a class="nav-sub-item" href="#">缓存清理</a>
      </div>
    </details>
    <details class="nav-group">
      <summary class="nav-item">
        <span>信息审核</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/attachments">附件审核</a>
        <a class="nav-sub-item" href="/admin/avatar-review">头像审核</a>
        <a class="nav-sub-item" href="/admin/identity-review">身份审核</a>
        <a class="nav-sub-item" href="/admin/confession-review">表白墙审核</a>
      </div>
    </details>
    <details class="nav-group">
      <summary class="nav-item">
        <span>权限管理</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/admins">管理员管理</a>
        <a class="nav-sub-item" href="/admin/admin-logs">管理员日志</a>
        <a class="nav-sub-item" href="/admin/roles">角色组</a>
        <a class="nav-sub-item" href="/admin/rules">菜单规则</a>
      </div>
    </details>
    <details class="nav-group">
      <summary class="nav-item">
        <span>即时通信管理</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/push">推送消息</a>
        <a class="nav-sub-item" href="/admin/service-accounts">服务账号管理</a>
      </div>
    </details>
    <details class="nav-group">
      <summary class="nav-item">
        <span>会员管理</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/members">会员管理</a>
        <a class="nav-sub-item" href="/admin/customer-service">客服管理</a>
      </div>
    </details>
    <details class="nav-group">
      <summary class="nav-item">
        <span>礼物管理</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/gift-categories">礼物分类</a>
        <a class="nav-sub-item" href="/admin/gifts">礼物管理</a>
      </div>
    </details>
    <a class="nav-item" href="/admin/stickers">
      <span>表情贴管理</span>
    </a>
    <details class="nav-group open">
      <summary class="nav-item">
        <span>前端管理</span>
      </summary>
      <div class="nav-sub">
        <a class="nav-sub-item" href="/admin/frontend-terms">使用条款修改</a>
        <a class="nav-sub-item" href="/admin/frontend-privacy">隐私条款修改</a>
        <a class="nav-sub-item" href="/admin/frontend-security">交友安全修改</a>
        <a class="nav-sub-item" href="/admin/frontend-help">帮助中心修改</a>
        <a class="nav-sub-item" href="/admin/frontend-contact">联系我们修改</a>
        <a class="nav-sub-item" href="/admin/frontend-user-config">用户参数修改</a>
        <a class="nav-sub-item" href="/admin/frontend-card-redeem">点卡兑换内容修改</a>
        <a class="nav-sub-item" href="/admin/frontend-confession-images">表白墙图片修改</a>
        <!-- “聊天页背景”菜单项将由 /admin/static/perm-guard.js 动态注入，避免逐页维护 -->
      </div>
    </details>

  </nav>
  <button type="button" class="logout-btn" id="logout-btn">退出登录</button>
</aside>
    <main class="admin-main members-compact">
      <header class="admin-topbar">
        <div>
          <h1>聊天页背景</h1>
          <p class="topbar-subtitle">前端内容 - 聊天页背景资源管理</p>
        </div>
      </header>
      <section class="panel">
        <header class="panel-head" style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:space-between;">
          <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
            <label class="btn-file" style="display:inline-flex;align-items:center;gap:8px;cursor:pointer;">
              <input id="bg-file" type="file" accept="image/*" style="display:none;" />
              <span class="panel-btn">选择图片</span>
              <span id="bg-file-name" style="font-size:12px;color:#64748b;min-width:160px;"></span>
            </label>
            <button id="bg-upload" class="panel-btn primary" type="button">上传</button>
            <span id="bg-status" style="font-size:12px;color:#64748b;min-width:160px;"></span>
          </div>
          <small style="color:#64748b;">提示：建议上传尺寸 1920×1080 或 2560×1440，JPG/PNG，文件小于 5MB，效果最佳。</small>
        </header>
        <div class="panel-body" style="display:grid;gap:12px;">
          <div id="bg-list" class="table" style="overflow:auto;">
            <table style="width:100%;border-collapse:collapse;">
              <thead>
                <tr style="text-align:left;font-size:12px;color:#64748b;border-bottom:1px solid var(--border);">
                  <th style="padding:8px 6px;">预览</th>
                  <th style="padding:8px 6px;">ID/名称</th>
                  <th style="padding:8px 6px;">地址</th>
                  <th style="padding:8px 6px;">大小</th>
                  <th style="padding:8px 6px;">创建时间</th>
                  <th style="padding:8px 6px;">状态</th>
                  <th style="padding:8px 6px;">操作</th>
                </tr>
              </thead>
              <tbody id="bg-tbody"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
    <script type="module" src="/admin/static/perm-guard.js"></script>
    <script type="module" src="/admin/frontend-chat-backgrounds.js"></script>
  </body>
</html>
